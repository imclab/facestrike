<!DOCTYPE HTML>
<html lang="en">
<head>
  <title>Sandbox</title>
  <meta charset="utf-8">
  <style type="text/css">
    body {
      font-family: Monospace;
      background-color: #f0f0f0;
      margin: 0px;
      overflow: hidden;
    }
  </style>
</head>
<body>

<script type="text/javascript" src="js/libs/Three.js"></script>
<script type="text/javascript" src="js/libs/RequestAnimationFrame.js"></script>
<script type="text/javascript" src="js/libs/gui.js"></script>
<script type="text/javascript" src="js/libs/Stats.js"></script>

<script type="text/javascript" src="js/main.js"></script>

<script type="text/javascript" src="js/initCanvas.js"></script>
<script type="text/javascript" src="js/cameras.js"></script>
<script type="text/javascript" src="js/rendering.js"></script>
<script type="text/javascript" src="js/initModels.js"></script>
<script type="text/javascript" src="js/scenes/sandboxScene.js"></script>
<script type="text/javascript" src="js/simulation/bowlingSimulation.js"></script>
<script type="text/javascript" src="js/initScene.js"></script>
<script type="text/javascript" src="js/events.js"></script>

<script type="text/javascript">

  initGame("sandbox");

  var simParam = {
    setFormDefaults: function(){ setFormDefaults(); },
    setState: function(){ setState(); }
  }
  
  function setFormDefaults()
  {    
    simParam.camera = 0;
    simParam.gravity = 3;
    simParam.friction = 0.03;
    simParam.mass = 50;
    simParam.elasticity = 0.7;
    simParam.xforce = 0;
    simParam.yforce = 500;
    simParam.zforce = 1000;
  }
  
  function setState()
  {
    simulation.mEnvironmentState.groundFriction =new Number(simParam.friction);
    simulation.mBallPhysics.mBallState.force.x = new Number(simParam.xforce);
    simulation.mBallPhysics.mBallState.force.y = new Number(simParam.yforce);
    simulation.mBallPhysics.mBallState.force.z = new Number(simParam.zforce);
    simulation.mBallPhysics.mBallState.ballMass = new Number(simParam.mass);
    simulation.mBallPhysics.mBallState.ballElasticity = new Number(simParam.elasticity);
    simulation.mEnvironmentState.gravity = new Number(simParam.gravity);
    simulation.mEnvironmentState.groundFriction =new Number(simParam.friction);  
  }

  setFormDefaults();

  var gui = new DAT.GUI();

  gui.add(simParam, 'gravity', 0, 10, 0.05).listen(); //min max step
  gui.add(simParam, 'friction', 0, 1, 0.01).listen();
  gui.add(simParam, 'mass', 0, 100, 0.1).listen();
  gui.add(simParam, 'elasticity', 0, 1, 0.05).listen();
  gui.add(simParam, 'xforce', 0, 5000, 10).listen();
  gui.add(simParam, 'yforce', 0, 5000, 10).listen();
  gui.add(simParam, 'zforce', 0, 5000, 10).listen();

  gui.add(simParam, 'camera').options({'Main': 0, 'Ball': 1, 'Free': 2}).listen().onChange(function(){shared.currentCamera = simParam.camera;});
  gui.add(simParam, 'setFormDefaults').name('set defaults!');
  gui.add(simParam, 'setState').name('run!');
  
  gui.open();
  
</script>

<body>
   
</body>
</html>